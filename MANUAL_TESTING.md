# Документ по мануальному тестированию системы AI CMS

## Общая информация

**Версия системы**: 1.0.0  
**Дата создания документа**: 2025-01-27  
**Цель документа**: Описание процедур мануального тестирования всех функций системы

## Подготовка к тестированию

### Требования
- Установленное приложение AI CMS
- Доступ к базе данных
- Браузер (рекомендуется Chrome или Firefox)
- Учетные записи для всех ролей:
  - Менеджер (manager)
  - Супер-менеджер (super_manager)
  - Администратор (admin)

### Начальная настройка
1. Убедитесь, что выполнены миграции: `php artisan migrate`
2. Создайте тестовые учетные записи для каждой роли
3. Создайте тестовых клиентов с разными менеджерами
4. Очистите кэш браузера перед началом тестирования

## Тестирование аутентификации

### TC-AUTH-001: Вход в систему
**Приоритет**: Высокий  
**Роль**: Любая

**Шаги**:
1. Откройте главную страницу `/`
2. Введите корректный email и пароль
3. Нажмите кнопку "Войти"

**Ожидаемый результат**:
- Происходит редирект на `/dashboard`
- Отображается главная страница дашборда
- В боковой панели отображаются пункты меню согласно роли

**Отрицательный тест**:
- Введите неверный email или пароль
- Ожидается сообщение об ошибке
- Редирект не происходит

### TC-AUTH-002: Выход из системы
**Приоритет**: Высокий  
**Роль**: Любая

**Шаги**:
1. Войдите в систему
2. Нажмите кнопку "Выход" (если есть) или перейдите по URL `/logout`

**Ожидаемый результат**:
- Происходит выход из системы
- Редирект на главную страницу `/`
- При попытке доступа к `/dashboard` требуется повторная авторизация

## Тестирование роли "Менеджер"

### TC-MANAGER-001: Просмотр списка своих клиентов
**Приоритет**: Высокий  
**Роль**: Менеджер

**Предусловия**:
- Создано несколько клиентов, часть из которых назначена текущему менеджеру

**Шаги**:
1. Войдите как менеджер
2. Перейдите в раздел "Клиенты"

**Ожидаемый результат**:
- Отображается только список клиентов, где `manager_id` равен ID текущего менеджера
- Клиенты других менеджеров не отображаются
- В боковой панели видны только пункты: "Главная", "Клиенты"
- Пункт "Менеджеры" отсутствует

### TC-MANAGER-002: Создание клиента
**Приоритет**: Высокий  
**Роль**: Менеджер

**Шаги**:
1. Войдите как менеджер
2. Перейдите в раздел "Клиенты"
3. Нажмите кнопку "Создать" или "Добавить клиента"
4. Заполните форму:
   - Имя: "Тестовый Клиент"
   - Email: "test@example.com"
5. Нажмите "Сохранить"

**Ожидаемый результат**:
- Клиент успешно создан
- Клиент автоматически назначен текущему менеджеру (`manager_id` = ID менеджера)
- Клиент отображается в списке
- Модальное окно закрывается

**Отрицательный тест**:
- Попробуйте создать клиента с пустым именем
- Попробуйте создать клиента с некорректным email
- Попробуйте создать клиента с уже существующим email
- Ожидаются сообщения об ошибках валидации

### TC-MANAGER-003: Редактирование своего клиента
**Приоритет**: Высокий  
**Роль**: Менеджер

**Предусловия**:
- Создан клиент, назначенный текущему менеджеру

**Шаги**:
1. Войдите как менеджер
2. Перейдите в раздел "Клиенты"
3. Найдите своего клиента в списке
4. Нажмите кнопку "Редактировать"
5. Измените имя или email
6. Нажмите "Сохранить"

**Ожидаемый результат**:
- Данные клиента успешно обновлены
- Изменения отображаются в списке
- Модальное окно закрывается

**Отрицательный тест**:
- Попробуйте отредактировать клиента другого менеджера (если есть доступ)
- Ожидается ошибка доступа (403 Forbidden)

### TC-MANAGER-004: Удаление своего клиента
**Приоритет**: Высокий  
**Роль**: Менеджер

**Предусловия**:
- Создан клиент, назначенный текущему менеджеру

**Шаги**:
1. Войдите как менеджер
2. Перейдите в раздел "Клиенты"
3. Найдите своего клиента в списке
4. Нажмите кнопку "Удалить"
5. Подтвердите удаление

**Ожидаемый результат**:
- Клиент успешно удален
- Клиент исчезает из списка
- Появляется сообщение об успешном удалении (если реализовано)

**Отрицательный тест**:
- Попробуйте удалить клиента другого менеджера (если есть доступ)
- Ожидается ошибка доступа (403 Forbidden)

### TC-MANAGER-005: Поиск клиентов
**Приоритет**: Средний  
**Роль**: Менеджер

**Предусловия**:
- Создано несколько клиентов текущего менеджера

**Шаги**:
1. Войдите как менеджер
2. Перейдите в раздел "Клиенты"
3. Введите текст поиска в поле поиска (например, имя клиента)
4. Нажмите Enter или дождитесь автоматического поиска

**Ожидаемый результат**:
- Список фильтруется по введенному тексту
- Отображаются только клиенты, соответствующие критериям поиска
- Поиск работает по имени и email

### TC-MANAGER-006: Сортировка клиентов
**Приоритет**: Средний  
**Роль**: Менеджер

**Шаги**:
1. Войдите как менеджер
2. Перейдите в раздел "Клиенты"
3. Нажмите на заголовок колонки (ID, Имя, Email)

**Ожидаемый результат**:
- Список сортируется по выбранной колонке
- При повторном нажатии сортировка меняется на обратную
- Индикатор направления сортировки отображается корректно

### TC-MANAGER-007: Доступ к разделу менеджеров
**Приоритет**: Высокий  
**Роль**: Менеджер

**Шаги**:
1. Войдите как менеджер
2. Попробуйте перейти по URL `/dashboard/managers`

**Ожидаемый результат**:
- Отображается ошибка доступа (403 Forbidden)
- Или редирект на главную страницу
- Пункт "Менеджеры" отсутствует в боковой панели

### TC-MANAGER-008: Просмотр статистики на главной странице
**Приоритет**: Средний  
**Роль**: Менеджер

**Шаги**:
1. Войдите как менеджер
2. Перейдите на главную страницу `/dashboard`

**Ожидаемый результат**:
- Отображается статистика только по своим клиентам
- Формат: "Активные клиенты / Всего клиентов"
- Статистика по менеджерам не отображается

## Тестирование роли "Супер-менеджер"

### TC-SUPER-001: Просмотр всех клиентов
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Предусловия**:
- Создано несколько клиентов с разными менеджерами

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Клиенты"

**Ожидаемый результат**:
- Отображаются все клиенты независимо от менеджера
- В боковой панели видны пункты: "Главная", "Клиенты", "Менеджеры"

### TC-SUPER-002: Смена менеджера у клиента
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Предусловия**:
- Создан клиент с назначенным менеджером
- Существует другой менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Клиенты"
3. Найдите клиента в списке
4. Нажмите кнопку "Сменить менеджера" или аналогичную
5. Выберите нового менеджера из списка
6. Подтвердите изменение

**Ожидаемый результат**:
- Менеджер клиента успешно изменен
- В списке клиентов отображается новый менеджер
- Модальное окно закрывается

**Отрицательный тест**:
- Попробуйте сменить менеджера без выбора нового менеджера
- Ожидается сообщение об ошибке валидации

### TC-SUPER-003: Просмотр списка менеджеров
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Менеджеры"

**Ожидаемый результат**:
- Отображается список всех менеджеров (роли MANAGER и SUPER_MANAGER)
- Администраторы не отображаются в списке
- В таблице видны колонки: ID, Имя, Email, Активность, Действия

### TC-SUPER-004: Создание менеджера
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Менеджеры"
3. Нажмите кнопку "Создать" или "Добавить менеджера"
4. Заполните форму:
   - Имя: "Новый Менеджер"
   - Email: "newmanager@example.com"
   - Пароль: "password123"
   - Подтверждение пароля: "password123"
   - Роль: выберите MANAGER или SUPER_MANAGER
   - Активность: включите/выключите
5. Нажмите "Сохранить"

**Ожидаемый результат**:
- Менеджер успешно создан
- Менеджер отображается в списке
- Модальное окно закрывается

**Отрицательный тест**:
- Попробуйте создать менеджера с пустым именем
- Попробуйте создать менеджера с некорректным email
- Попробуйте создать менеджера с уже существующим email
- Попробуйте создать менеджера с коротким паролем
- Попробуйте создать менеджера с несовпадающими паролями
- Ожидаются сообщения об ошибках валидации

### TC-SUPER-005: Редактирование менеджера
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Предусловия**:
- Создан менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Менеджеры"
3. Найдите менеджера в списке
4. Нажмите кнопку "Редактировать"
5. Измените имя, email или роль
6. Нажмите "Сохранить"

**Ожидаемый результат**:
- Данные менеджера успешно обновлены
- Изменения отображаются в списке
- Модальное окно закрывается

### TC-SUPER-006: Смена пароля менеджера
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Предусловия**:
- Создан менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Менеджеры"
3. Найдите менеджера в списке
4. Нажмите кнопку "Сменить пароль"
5. Введите новый пароль и подтверждение
6. Нажмите "Сохранить"

**Ожидаемый результат**:
- Пароль успешно изменен
- Менеджер может войти в систему с новым паролем
- Модальное окно закрывается

**Отрицательный тест**:
- Попробуйте сменить пароль с коротким паролем
- Попробуйте сменить пароль с несовпадающими паролями
- Ожидаются сообщения об ошибках валидации

### TC-SUPER-007: Переключение активности менеджера
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Предусловия**:
- Создан активный менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Менеджеры"
3. Найдите менеджера в списке
4. Нажмите кнопку переключения активности (toggle)

**Ожидаемый результат**:
- Статус активности изменен
- В таблице отображается новый статус (активен/неактивен)
- Изменение происходит без перезагрузки страницы

### TC-SUPER-008: Удаление менеджера с передачей клиентов
**Приоритет**: Высокий  
**Роль**: Супер-менеджер

**Предусловия**:
- Создан менеджер с назначенными клиентами
- Существует другой менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите в раздел "Менеджеры"
3. Найдите менеджера с клиентами
4. Нажмите кнопку "Удалить"
5. Выберите менеджера, которому передать клиентов
6. Подтвердите удаление

**Ожидаемый результат**:
- Менеджер успешно удален
- Все его клиенты переданы выбранному менеджеру
- Менеджер исчезает из списка
- Клиенты отображаются у нового менеджера

**Отрицательный тест**:
- Попробуйте удалить менеджера без выбора нового менеджера
- Ожидается сообщение об ошибке валидации

### TC-SUPER-009: Просмотр статистики на главной странице
**Приоритет**: Средний  
**Роль**: Супер-менеджер

**Шаги**:
1. Войдите как супер-менеджер
2. Перейдите на главную страницу `/dashboard`

**Ожидаемый результат**:
- Отображается статистика по всем клиентам
- Отображается статистика по всем менеджерам
- Формат: "Активные / Всего" для клиентов и менеджеров

## Тестирование роли "Администратор"

### TC-ADMIN-001: Полный доступ ко всем разделам
**Приоритет**: Высокий  
**Роль**: Администратор

**Шаги**:
1. Войдите как администратор
2. Проверьте доступ ко всем разделам

**Ожидаемый результат**:
- Доступ к разделу "Клиенты" - все клиенты видны
- Доступ к разделу "Менеджеры" - все менеджеры видны (включая супер-менеджеров)
- В боковой панели видны пункты: "Главная", "Клиенты", "Менеджеры"

### TC-ADMIN-002: Управление менеджерами любого типа
**Приоритет**: Высокий  
**Роль**: Администратор

**Шаги**:
1. Войдите как администратор
2. Перейдите в раздел "Менеджеры"
3. Попробуйте создать/редактировать/удалить менеджера с ролью SUPER_MANAGER

**Ожидаемый результат**:
- Все операции доступны
- Можно управлять менеджерами любого типа (MANAGER, SUPER_MANAGER)

### TC-ADMIN-003: Просмотр статистики на главной странице
**Приоритет**: Средний  
**Роль**: Администратор

**Шаги**:
1. Войдите как администратор
2. Перейдите на главную страницу `/dashboard`

**Ожидаемый результат**:
- Отображается статистика по всем клиентам
- Отображается статистика по всем менеджерам
- Формат: "Активные / Всего" для клиентов и менеджеров

## Тестирование общих функций

### TC-COMMON-001: Пагинация
**Приоритет**: Средний  
**Роль**: Любая

**Предусловия**:
- Создано более 15 клиентов/менеджеров (если пагинация настроена на 15 записей)

**Шаги**:
1. Войдите в систему
2. Перейдите в раздел "Клиенты" или "Менеджеры"
3. Прокрутите список вниз или нажмите кнопку "Следующая страница"

**Ожидаемый результат**:
- Отображается пагинация
- При переходе на следующую страницу загружаются следующие записи
- Кнопки "Предыдущая" и "Следующая" работают корректно

### TC-COMMON-002: Адаптивность интерфейса
**Приоритет**: Средний  
**Роль**: Любая

**Шаги**:
1. Войдите в систему
2. Измените размер окна браузера
3. Проверьте отображение на разных размерах экрана

**Ожидаемый результат**:
- Интерфейс адаптируется под размер экрана
- Таблицы корректно отображаются на мобильных устройствах
- Боковая панель работает корректно на всех устройствах

### TC-COMMON-003: Обработка ошибок
**Приоритет**: Высокий  
**Роль**: Любая

**Шаги**:
1. Войдите в систему
2. Попробуйте выполнить некорректные действия:
   - Доступ к несуществующей странице
   - Удаление несуществующей записи
   - Редактирование удаленной записи

**Ожидаемый результат**:
- Отображаются понятные сообщения об ошибках
- Ошибки 404, 403, 500 обрабатываются корректно
- Пользователь не видит технических деталей ошибок

### TC-COMMON-004: Валидация форм
**Приоритет**: Высокий  
**Роль**: Любая

**Шаги**:
1. Войдите в систему
2. Откройте любую форму (создание/редактирование клиента или менеджера)
3. Попробуйте отправить форму с некорректными данными

**Ожидаемый результат**:
- Отображаются сообщения об ошибках валидации
- Сообщения понятны и на русском языке
- Форма не отправляется при наличии ошибок
- Поля с ошибками выделены визуально

## Чек-лист тестирования

### Критичные функции (обязательно проверить)
- [ ] Вход в систему
- [ ] Выход из системы
- [ ] Менеджер видит только своих клиентов
- [ ] Супер-менеджер видит всех клиентов
- [ ] Создание клиента (менеджер)
- [ ] Создание менеджера (супер-менеджер)
- [ ] Смена менеджера у клиента (супер-менеджер)
- [ ] Удаление менеджера с передачей клиентов
- [ ] Доступ к разделу менеджеров (только супер-менеджер/админ)

### Важные функции
- [ ] Редактирование клиента
- [ ] Удаление клиента
- [ ] Поиск клиентов
- [ ] Сортировка клиентов
- [ ] Смена пароля менеджера
- [ ] Переключение активности менеджера
- [ ] Статистика на главной странице

### Дополнительные функции
- [ ] Пагинация
- [ ] Адаптивность интерфейса
- [ ] Обработка ошибок
- [ ] Валидация форм

## Отчет о тестировании

После завершения тестирования заполните отчет:

**Дата тестирования**: _______________  
**Версия системы**: _______________  
**Тестировщик**: _______________  

### Результаты тестирования

**Пройдено тестов**: ___ / ___  
**Провалено тестов**: ___ / ___  
**Пропущено тестов**: ___ / ___  

### Найденные проблемы

1. **Проблема**: _______________  
   **Критичность**: Высокая/Средняя/Низкая  
   **Шаги воспроизведения**: _______________  
   **Ожидаемый результат**: _______________  
   **Фактический результат**: _______________

2. ...

### Рекомендации

- _______________
- _______________

## Заключение

Данный документ описывает основные процедуры мануального тестирования системы AI CMS. При обнаружении новых функций или изменении существующих, документ должен быть обновлен соответствующими тест-кейсами.

