## AI CMS — Product Requirements Document

### 1. Общее описание

- **Основной сценарий**: авторизованный пользователь заходит в систему по адресу `/dashboard` и выполняет операции над клиентами и/или менеджерами в зависимости от своих прав.

### 2. Роли и права доступа

#### 2.1. Менеджер

- **Область ответственности**: работа только со «своими» клиентами.
- **Доступные функции**:
  - Просмотр списка только своих клиентов.
  - CRUD‑операции (создание, просмотр, редактирование, удаление) только по своим клиентам.

#### 2.2. Супер‑менеджер

- **Область ответственности**: управление всеми клиентами и менеджерами.
- **Доступные функции по клиентам**:
  - Просмотр списка всех клиентов.
  - Полный CRUD по клиентам.
  - В карточке клиента доступна операция смены ответственного менеджера.
- **Доступные функции по менеджерам**:
  - Просмотр списка всех менеджеров.
  - CRUD по менеджерам.
  - Изменение пароля менеджеров.
  - Управление флагом активности менеджеров.
  - При удалении менеджера — выбор другого менеджера, которому будут переданы все его клиенты (обязательное действие).

#### 2.3. Администратор

- **Область ответственности**: полный контроль над системой.
- **Доступные функции**:
  - Полный CRUD‑доступ ко всем разделам системы (клиенты, менеджеры и прочие административные настройки).
  - Может работать с менеджерами любого типа.
  - Создает свою учетную запись самостоятельно.

### 3. Аутентификация и доступ

- **Доступ к системе**:
  - Вход осуществляется только для авторизованных пользователей.
  - Основная точка входа в интерфейс после авторизации: `/dashboard`.
- **Создание учетных записей**:
  - Администратор создает свою учетную запись сам.
  - Супер‑менеджер может управлять менеджерами любого типа (создание, изменение, деактивация и т.п.).

### 4. Интерфейс и навигация

#### 4.1. Общий макет

- **Структура интерфейса**:
  - Боковая панель навигации (sidebar).
  - Основная область контента.

#### 4.2. Элементы боковой панели

- **Менеджер**:
  - Пункты меню: «Главная», «Клиенты».
- **Супер‑менеджер и администратор**:
  - Пункты меню: «Главная», «Клиенты», «Менеджеры».

#### 4.3. Главная страница (`/dashboard`)

- **Содержимое**:
  - Информационный блок (описание системы / краткая статистика или приветственный текст, конкретное наполнение уточняется на этапе дизайна, но без дополнительной логики за рамками текущего PRD).

### 5. Раздел «Клиенты»

- **Общие требования**:
  - Табличное представление списка клиентов.
  - Единый стиль таблиц для всех CRUD‑разделов.
- **Колонки таблицы**:
  - Идентификатор записи (ID).
  - Имя клиента.
  - Email клиента.
  - Колонка `action` с управляющими элементами (просмотр / редактирование / удаление и др. согласно правам).
- **Функционал таблицы**:
  - Поиск по основным полям (например, имя, email).
  - Сортировка по ключевым столбцам (как минимум по ID, имени, email).
- **Ограничения прав**:
  - Менеджер видит только своих клиентов и может выполнять CRUD только в рамках этого подмножества.
  - Супер‑менеджер и администратор видят всех клиентов и имеют полный CRUD‑доступ.
- **Карточка клиента**:
  - Общая информация о клиенте (минимально: ID, имя, email).
  - Для супер‑менеджера и администратора:
    - Элемент управления для смены ответственного менеджера.

### 6. Раздел «Менеджеры»

- **Доступ**:
  - Раздел доступен супер‑менеджеру и администратору.
- **Общие требования**:
  - Табличное представление списка менеджеров.
  - Единый стиль таблиц, как в разделе «Клиенты».
- **Колонки таблицы**:
  - Идентификатор записи (ID).
  - Имя менеджера.
  - Email менеджера.
  - Признак активности (активен / неактивен).
  - Колонка `action` с управляющими элементами (просмотр / редактирование / удаление и др.).
- **Функционал таблицы**:
  - Поиск и сортировка по ключевым полям (ID, имя, email, активность).
- **Карточка менеджера**:
  - Возможность изменения пароля менеджера.
  - Возможность смены статуса активности (флаг активности).
- **Удаление менеджера**:
  - При удалении менеджера система должна требовать указать другого менеджера.
  - Все клиенты удаляемого менеджера должны быть переданы выбранному менеджеру.

### 7. Общие требования к CRUD‑таблицам

- **Единообразие**:
  - Все CRUD‑таблицы в системе (клиенты, менеджеры) должны быть максимально однотипны по:
    - Набору базовых колонок (ID, имя, email, `action`).
    - Поведению поиска и сортировки.
    - Визуальному стилю и управлению.
- **Поиск и сортировка**:
  - Поиск должен работать без полной перезагрузки страницы (детали реализации зависят от выбранного стека, но не выходят за рамки данного PRD).
  - Сортировка по основным колонкам должна быть интуитивной (клик по заголовку колонок и т.п.).

### 8. Ограничения и допущения

- **Только то, что описано**:
  - Настоящий документ фиксирует минимально необходимый функционал из чернового описания.
  - Дополнительные функции (фильтрация по статусам, расширенная статистика, экспорты и т.п.) не входят в объем данного PRD и должны быть описаны отдельно.

